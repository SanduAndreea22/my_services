{% extends "base.html" %}
{% block content %}

<section class="max-w-6xl mx-auto px-6 py-20">

  <div class="text-center mb-16">
    <h1 class="text-4xl md:text-6xl font-extrabold gradient-text mb-6">System FAQ Assistant</h1>
    <p class="text-slate-400 text-lg max-w-2xl mx-auto">
      Structured answers. No fluff. Select a question and the system will respond.
    </p>
  </div>

  <div class="grid md:grid-cols-[1fr_1.5fr] gap-12 items-start">

    <div class="space-y-4">
      <h3 class="text-xl font-semibold mb-6 text-white flex items-center gap-2">
          <span class="w-2 h-2 bg-blue-500 rounded-full animate-pulse"></span>
          Ask the System
      </h3>

      <div class="flex flex-col gap-3">
          <button class="faq-btn glass w-full text-left p-5 border border-white/5 hover:border-blue-500/50 hover:translate-x-2 transition-all duration-300 group" data-answer="content">
            <span class="text-slate-300 group-hover:text-white">Do I need to provide the content?</span>
          </button>

          <button class="faq-btn glass w-full text-left p-5 border border-white/5 hover:border-blue-500/50 hover:translate-x-2 transition-all duration-300 group" data-answer="domain">
            <span class="text-slate-300 group-hover:text-white">Is domain & hosting included?</span>
          </button>

          <button class="faq-btn glass w-full text-left p-5 border border-white/5 hover:border-blue-500/50 hover:translate-x-2 transition-all duration-300 group" data-answer="payments">
            <span class="text-slate-300 group-hover:text-white">Can you integrate payment gateways?</span>
          </button>

          <button class="faq-btn glass w-full text-left p-5 border border-white/5 hover:border-blue-500/50 hover:translate-x-2 transition-all duration-300 group" data-answer="django">
            <span class="text-slate-300 group-hover:text-white">Why Django?</span>
          </button>

          <button class="faq-btn glass w-full text-left p-5 border border-white/5 hover:border-blue-500/50 hover:translate-x-2 transition-all duration-300 group" data-answer="custom">
            <span class="text-slate-300 group-hover:text-white">Can I request custom features?</span>
          </button>

          <button class="faq-btn glass w-full text-left p-5 border border-white/5 hover:border-blue-500/50 hover:translate-x-2 transition-all duration-300 group" data-answer="support">
            <span class="text-slate-300 group-hover:text-white">Do you offer ongoing support?</span>
          </button>
      </div>

      <a href="{% url 'contact' %}" class="inline-block mt-6 text-blue-400 hover:text-blue-300 transition-colors text-sm font-medium">
        Still have questions? Start a conversation â†’
      </a>
    </div>

    <div class="glass flex flex-col h-[550px] border border-white/10 shadow-2xl relative overflow-hidden">
      <div class="p-5 border-b border-white/5 bg-white/5 backdrop-blur-md flex items-center justify-between">
        <span class="font-semibold text-sm tracking-wide uppercase text-slate-300">Digital System Assistant</span>
        <div class="flex gap-1.5">
            <div class="w-2.5 h-2.5 rounded-full bg-red-500/20 border border-red-500/50"></div>
            <div class="w-2.5 h-2.5 rounded-full bg-yellow-500/20 border border-yellow-500/50"></div>
            <div class="w-2.5 h-2.5 rounded-full bg-green-500/20 border border-green-500/50"></div>
        </div>
      </div>

      <div class="flex-1 p-6 overflow-y-auto space-y-6 custom-scrollbar" id="chatBody">
        <div class="bg-white/5 p-4 rounded-2xl rounded-tl-none max-w-[85%] text-slate-300 border border-white/5 leading-relaxed">
          Hello! Select a question from the panel to receive structured technical information.
        </div>
      </div>
    </div>

  </div>
</section>

<style>
/* Stil pentru mesajele generate din JS */
.chat-message {
    animation: fadeUp 0.4s ease forwards;
}

.chat-message.user {
    background: rgba(59, 130, 246, 0.2);
    border: 1px solid rgba(59, 130, 246, 0.3);
    color: white;
    align-self: flex-end;
    margin-left: auto;
}

.chat-message.system {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.05);
    color: #cbd5e1;
    align-self: flex-start;
}

.typing-dots span {
    width: 6px;
    height: 6px;
    background: #60a5fa;
    border-radius: 50%;
    display: inline-block;
    animation: blink 1.4s infinite both;
}
.typing-dots span:nth-child(2) { animation-delay: .2s; }
.typing-dots span:nth-child(3) { animation-delay: .4s; }

@keyframes blink {
    0%, 80%, 100% { opacity: 0; }
    40% { opacity: 1; }
}

@keyframes fadeUp {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}

.custom-scrollbar::-webkit-scrollbar { width: 4px; }
.custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
</style>

<script>
const answers = {
  content: "In most cases, yes. You provide the core business information and branding direction. I structure the content architecture and can integrate professional copywriting if required.",
  domain: "Domain and hosting are external recurring services paid directly to providers. I guide you toward infrastructure optimized for Django-based systems.",
  payments: "Yes. Secure integrations include Stripe, PayPal, and regional providers. All payment flows follow backend validation and security best practices.",
  django: "Django is a secure and scalable Python framework engineered for long-term digital systems. It offers structured architecture and operational efficiency.",
  custom: "Every system is built around business logic. Custom workflows, dashboards, or automation can be engineered according to your operational needs.",
  support: "Each project includes a structured post-launch stabilization period. Long-term maintenance and feature evolution can be managed under a dedicated agreement."
};

const buttons = document.querySelectorAll(".faq-btn");
const chatBody = document.getElementById("chatBody");

buttons.forEach(btn => {
  btn.addEventListener("click", () => {
    const questionText = btn.innerText;
    const key = btn.dataset.answer;

    // Add User Message
    const userDiv = document.createElement("div");
    userDiv.className = "chat-message user p-4 rounded-2xl rounded-tr-none max-w-[85%] leading-relaxed";
    userDiv.textContent = questionText;
    chatBody.appendChild(userDiv);
    chatBody.scrollTop = chatBody.scrollHeight;

    // Typing indicator
    const typingDiv = document.createElement("div");
    typingDiv.className = "chat-message system p-4 rounded-2xl rounded-tl-none typing-dots flex gap-1";
    typingDiv.innerHTML = "<span></span><span></span><span></span>";
    chatBody.appendChild(typingDiv);
    chatBody.scrollTop = chatBody.scrollHeight;

    setTimeout(() => {
      typingDiv.remove();
      const sysDiv = document.createElement("div");
      sysDiv.className = "chat-message system p-4 rounded-2xl rounded-tl-none max-w-[85%] leading-relaxed border border-white/5";
      sysDiv.textContent = answers[key];
      chatBody.appendChild(sysDiv);
      chatBody.scrollTop = chatBody.scrollHeight;
    }, 800);
  });
});
</script>

{% endblock %}
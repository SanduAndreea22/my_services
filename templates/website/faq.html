{% extends "base.html" %}
{% block content %}

<section class="faq-assistant">

  <div class="faq-header">
    <h1 class="gradient-text">System FAQ Assistant</h1>
    <p>
      Structured answers. No fluff. Select a question and the system will respond.
    </p>
  </div>

  <div class="faq-container">

    <!-- QUESTIONS PANEL -->
    <div class="faq-questions">
      <h3>Ask the System</h3>

      <button class="faq-btn" data-answer="content">
        Do I need to provide the content?
      </button>

      <button class="faq-btn" data-answer="domain">
        Is domain & hosting included?
      </button>

      <button class="faq-btn" data-answer="payments">
        Can you integrate payment gateways?
      </button>

      <button class="faq-btn" data-answer="django">
        Why Django?
      </button>

      <button class="faq-btn" data-answer="custom">
        Can I request custom features?
      </button>

      <button class="faq-btn" data-answer="support">
        Do you offer ongoing support?
      </button>

      <a href="{% url 'contact' %}" class="faq-cta">
        Still have questions? Start a conversation â†’
      </a>
    </div>

    <!-- CHAT PANEL -->
    <div class="faq-chat glass">
      <div class="chat-header">
        Digital System Assistant
      </div>

      <div class="chat-body" id="chatBody">
        <div class="chat-message system">
          Select a question to receive structured information.
        </div>
      </div>
    </div>

  </div>

</section>


<style>

/* =========================
   FAQ ASSISTANT
========================= */

.faq-assistant {
    padding: 120px 20px;
    max-width: 1200px;
    margin: auto;
}

.faq-header {
    text-align: center;
    margin-bottom: 70px;
}

.faq-header h1 {
    font-size: 3rem;
    margin-bottom: 15px;
}

.faq-header p {
    color: #94a3b8;
    max-width: 600px;
    margin: auto;
}

/* Layout */

.faq-container {
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: 60px;
}

/* QUESTIONS */

.faq-questions h3 {
    margin-bottom: 20px;
}

.faq-btn {
    width: 100%;
    background: rgba(15,23,42,.7);
    border: 1px solid rgba(255,255,255,.05);
    color: #f1f5f9;
    padding: 16px 18px;
    border-radius: 10px;
    margin-bottom: 14px;
    text-align: left;
    cursor: pointer;
    transition: all .3s ease;
}

.faq-btn:hover {
    border-color: rgba(59,130,246,.4);
    transform: translateX(6px);
}

.faq-cta {
    display: inline-block;
    margin-top: 25px;
    color: #60a5fa;
    text-decoration: none;
    font-size: .95rem;
}

.faq-cta:hover {
    text-decoration: underline;
}

/* CHAT PANEL */

.faq-chat {
    display: flex;
    flex-direction: column;
    height: 500px;
    border-radius: 16px;
    overflow: hidden;
}

.chat-header {
    padding: 20px;
    border-bottom: 1px solid rgba(255,255,255,.05);
    font-weight: 500;
}

.chat-body {
    padding: 25px;
    overflow-y: auto;
    flex: 1;
    display: flex;
    flex-direction: column;
}

/* Messages */

.chat-message {
    max-width: 75%;
    padding: 14px 18px;
    border-radius: 14px;
    margin-bottom: 18px;
    line-height: 1.6;
    font-size: 0.95rem;
    animation: fadeUp .4s ease forwards;
}

.chat-message.user {
    background: rgba(59,130,246,.15);
    align-self: flex-end;
}

.chat-message.system {
    background: rgba(255,255,255,.05);
    color: #cbd5e1;
}

/* Typing indicator */

.typing {
    display: inline-block;
    width: 6px;
    height: 6px;
    background: #60a5fa;
    border-radius: 50%;
    margin-right: 4px;
    animation: blink 1.4s infinite both;
}

.typing:nth-child(2) { animation-delay: .2s; }
.typing:nth-child(3) { animation-delay: .4s; }

@keyframes blink {
    0%,80%,100% { opacity: 0; }
    40% { opacity: 1; }
}

@keyframes fadeUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Responsive */

@media (max-width: 950px) {
    .faq-container {
        grid-template-columns: 1fr;
    }

    .faq-chat {
        height: 420px;
    }
}

</style>


<script>

const answers = {
  content: `In most cases, yes. You provide the core business information and branding direction.
  I structure the content architecture and can integrate professional copywriting if required.`,

  domain: `Domain and hosting are external recurring services paid directly to providers.
  I guide you toward infrastructure optimized for Django-based systems, ensuring performance and scalability.`,

  payments: `Yes. Secure integrations include Stripe, PayPal, and regional providers.
  All payment flows follow backend validation and security best practices.`,

  django: `Django is a secure and scalable Python framework engineered for long-term digital systems.
  It offers structured architecture and operational efficiency through its admin interface.`,

  custom: `Every system is built around business logic.
  Custom workflows, dashboards, or automation can be engineered according to your operational needs.`,

  support: `Each project includes a structured post-launch stabilization period.
  Long-term maintenance and feature evolution can be managed under a dedicated agreement.`
};

const buttons = document.querySelectorAll(".faq-btn");
const chatBody = document.getElementById("chatBody");

buttons.forEach(btn => {
  btn.addEventListener("click", () => {

    const questionText = btn.innerText;
    const key = btn.dataset.answer;

    // User message
    const userMsg = document.createElement("div");
    userMsg.classList.add("chat-message", "user");
    userMsg.textContent = questionText;
    chatBody.appendChild(userMsg);

    chatBody.scrollTop = chatBody.scrollHeight;

    // Typing indicator
    const typing = document.createElement("div");
    typing.classList.add("chat-message", "system");
    typing.innerHTML = `
        <span class="typing"></span>
        <span class="typing"></span>
        <span class="typing"></span>
    `;
    chatBody.appendChild(typing);
    chatBody.scrollTop = chatBody.scrollHeight;

    setTimeout(() => {
      typing.remove();

      const systemMsg = document.createElement("div");
      systemMsg.classList.add("chat-message", "system");
      systemMsg.textContent = answers[key];
      chatBody.appendChild(systemMsg);

      chatBody.scrollTop = chatBody.scrollHeight;
    }, 900);

  });
});

</script>

{% endblock %}